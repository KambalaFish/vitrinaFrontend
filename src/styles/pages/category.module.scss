@use '@styles/abstracts/_mixins.scss' as m;
@use '@styles/abstracts/_functions.scss' as f;
@use '@styles/abstracts/_variables.scss' as v;
@use "sass:math";

$gap: f.ptr(24px);

.category {
  /*! empty */

  &Header {
    margin: 0 0 f.ptr(20px) 0;
  }

  &Subcategories {
    /*! empty */
  }

  &Info {
    @include m.flex(space-between);

    padding: 0 f.ptr(16px);
    border-bottom: 1px solid v.$sWhite2;
  }

  &Title {
    /*! empty */
  }

  &Sort {
    /*! empty */
  }

  &Body {
    @include m.flex($ai: flex-start);

    column-gap: $gap;
  }

  &Filter {
    @include m.solidBorder;

    flex-basis: max(275px, 20%);
    height: f.ptr(800px);
  }

  &Content {
    /*! empty */
  }

}

.subcategories {
  /*! empty */
}

.products {
  @include m.flexColumn($jc: space-between);

  flex-grow: 1;
  row-gap: $gap;


  &Container {
    align-self: stretch;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(f.ptr(260px), 1fr));
    align-content: start;
    justify-content: center;
    align-items: stretch;
    justify-items: stretch;
    gap: $gap;
  }

  &Card {
    /*! empty */
  }
}

.productcard {
  position: relative;

  &Content {
    @include m.flexColumn(space-between, stretch);
    @include m.solidBorder(v.$sWhite2);

    position: relative;
    height: 100%;
    row-gap: f.ptr(8px);
    padding: f.ptr(4px) f.ptr(18px) f.ptr(12px);
    border-radius: f.ptr(16px);
    background-color: v.$pWhite;
    z-index: 2;
    overflow: hidden;
    transition: v.$trOut;

    &:hover {
      $blur: 2px;
      $offsetX: math.div(-$blur, 2);
      $offsetY: math.div(-$blur, 2);

      transform: translate(8px, -8px);
      box-shadow: inset $offsetX $offsetY $blur rgb(32 32 32);
      transition: v.$trIn;
    }
  }

  &Border {
    position: absolute;
    width: 100%;
    height: 100%;
    left: 0;
    top: 0;
    border-radius: f.ptr(17px);
    border: f.ptr(1px) dashed v.$sBlack4;
    z-index: 0;
  }

  &Header {
    @include m.flexColumn($ai: stretch);
  }

  &Imagewrapper {
    @include m.flex(center);
  }

  &Title {
    font-weight: 800;
    font-size: f.ptr(22px);
    color: v.$pBlack;
  }

  &Price {
    align-self: flex-start;
    font-weight: 700;
    font-size: f.ptr(18px);
    color: v.$sBlack4;
    user-select: none;
    position: relative;
    transition: v.$trOut;

    &::after {
      content: '';
      position: absolute;
      height: f.ptr(2px);
      left: 0;
      right: 0;
      bottom: f.ptr(-1.4px);
      background-image: linear-gradient(90deg, rgb(255 238 52) 0%, rgb(255 173 51) 100%);
      transform: scale(0);
      transform-origin: left;
      transition: v.$trOut;
    }
  }

  &Content:hover &Price {
    transition: v.$trIn;
    color: v.$sBlack1;
  }

  &Content:hover &Price::after {
    transform: scale(1);
    transition: all 0.65s ease-out;
  }

  &Footer {
    @include m.flexColumn($ai: stretch);

    row-gap: f.ptr(12px);
  }

  &Buttons {
    @include m.flexColumn(flex-end);

    row-gap: f.ptr(16px);
  }

  &Button {
    align-self: stretch;
    padding: f.ptr(13px) f.ptr(20px);
    font-size: f.ptr(18px);

    &Details {
      font-weight: 600;
      font-size: f.ptr(14px);
      color: v.$sBlack3;
    }
  }

}